{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      errorMessage: \"\",\n      showPassword: false\n    };\n  },\n  created() {\n    // Ensure dark mode is not applied on this page\n    document.body.classList.remove(\"dark-mode\");\n  },\n  methods: {\n    togglePassword() {\n      this.showPassword = !this.showPassword;\n    },\n    // Handle regular user login\n    async handleLogin() {\n      const emailRegex = /^[a-zA-Z0-9]+(_\\d{12})?@uic\\.edu\\.ph$/;\n      if (!emailRegex.test(this.username)) {\n        this.errorMessage = \"Invalid UIC Email\";\n        return;\n      }\n      try {\n        const response = await fetch(\"http://127.0.0.1:8000/login\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\"\n          },\n          body: JSON.stringify({\n            email: this.username,\n            password: this.password\n          })\n        });\n        const data = await response.json();\n        console.log('Login response:', data); // Log the response to check if username is included\n\n        if (response.ok) {\n          localStorage.setItem(\"loggedIn\", \"true\");\n          localStorage.setItem(\"userEmail\", this.username);\n\n          // Ensure that the correct username is saved\n          if (data.username) {\n            localStorage.setItem(\"userName\", data.username); // Save username here\n          }\n          this.$router.push({\n            name: \"Dashboard\"\n          });\n        } else {\n          this.errorMessage = data.detail || \"An error occurred. Please try again.\";\n        }\n      } catch (error) {\n        console.error(\"Error during login:\", error);\n        this.errorMessage = \"An unexpected error occurred. Please try again.\";\n      }\n    },\n    // Redirect to AdminPage\n    redirectToAdminPage() {\n      this.$router.push({\n        name: \"AdminPage\"\n      }); // Redirect to AdminPage.vue\n    }\n  }\n};","map":{"version":3,"names":["name","data","username","password","errorMessage","showPassword","created","document","body","classList","remove","methods","togglePassword","handleLogin","emailRegex","test","response","fetch","method","headers","JSON","stringify","email","json","console","log","ok","localStorage","setItem","$router","push","detail","error","redirectToAdminPage"],"sources":["D:\\cafe-beata-Inventory-Preorder-main\\cafe-beata-main\\src\\components\\LoginPage.vue"],"sourcesContent":["<template>\n  <div class=\"login-page\">\n    <div class=\"login-container\">\n      <!-- Logo as Admin Button -->\n      <div class=\"logo-container\" @click=\"redirectToAdminPage\" style=\"cursor: pointer;\">\n        <img src=\"@/assets/uic-logo.png\" alt=\"University Logo\" class=\"logo\" />\n      </div>\n\n      <h1 class=\"title\">UIC Cafe Be√†ta</h1>\n      <form v-if=\"!isAdminLogin\" @submit.prevent=\"handleLogin\" class=\"login-form\">\n        <div class=\"input-container\">\n          <label for=\"username\"></label>\n          <input \n            type=\"text\" \n            v-model=\"username\" \n            id=\"username\" \n            placeholder=\"UIC Email\" \n            required \n          />\n        </div>\n        <div class=\"input-container\">\n          <label for=\"password\"></label>\n          <div class=\"password-container\">\n            <input \n              :type=\"showPassword ? 'text' : 'password'\" \n              v-model=\"password\" \n              id=\"password\" \n              placeholder=\"Password\" \n              required \n            />\n            <button \n              type=\"button\" \n              class=\"show-password-btn\" \n              @click=\"togglePassword\"\n              v-show=\"password.length > 0\"\n            >\n              <i :class=\"showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'\"></i>\n            </button>\n          </div>\n        </div>\n        <button type=\"submit\" class=\"login-button\">Login</button>\n        <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\n      </form>\n\n      <p class=\"create-account-link\">\n        Don't have an account? <router-link to=\"/create-account\">Create one</router-link>\n      </p>\n      <p class=\"forgot-password-link\">\n        <router-link to=\"/forgot-password\">Forgot Password?</router-link>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      errorMessage: \"\",\n      showPassword: false,\n    };\n  },\n\n  created() {\n    // Ensure dark mode is not applied on this page\n    document.body.classList.remove(\"dark-mode\");\n  },\n\n\n  methods: {\n    togglePassword() {\n      this.showPassword = !this.showPassword;\n    },\n    // Handle regular user login\n   async handleLogin() {\n  const emailRegex = /^[a-zA-Z0-9]+(_\\d{12})?@uic\\.edu\\.ph$/;\n\n  if (!emailRegex.test(this.username)) {\n    this.errorMessage = \"Invalid UIC Email\";\n    return;\n  }\n\n  try {\n    const response = await fetch(\"http://127.0.0.1:8000/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email: this.username, password: this.password }),\n    });\n    const data = await response.json();\n    console.log('Login response:', data);  // Log the response to check if username is included\n\n    if (response.ok) {\n      localStorage.setItem(\"loggedIn\", \"true\");\n      localStorage.setItem(\"userEmail\", this.username);\n\n      // Ensure that the correct username is saved\n      if (data.username) {\n        localStorage.setItem(\"userName\", data.username);  // Save username here\n      }\n\n      this.$router.push({ name: \"Dashboard\" });\n    } else {\n      this.errorMessage = data.detail || \"An error occurred. Please try again.\";\n    }\n  } catch (error) {\n    console.error(\"Error during login:\", error);\n    this.errorMessage = \"An unexpected error occurred. Please try again.\";\n      }\n    },\n\n    // Redirect to AdminPage\n    redirectToAdminPage() {\n      this.$router.push({ name: \"AdminPage\" }); // Redirect to AdminPage.vue\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Logo as Admin Button Style */\n.logo-container {\n  cursor: pointer; /* Ensure the logo is clickable */\n  margin-top: 20px;\n}\n\n.logo {\n  width: 60%;\n  max-width: 220px;\n  height: auto;\n  margin-bottom: 20px;\n}\n\n.terms-text {\n  margin-top: 20px;\n  font-size: 14px;\n  text-align: center;\n}\n\n.terms-link {\n  color:#ff1493;\n  text-decoration: none;\n  font-weight: bold;\n}\n\n.terms-link:hover {\n  text-decoration: underline;\n}\n\n.forgot-password-link {\n  margin-top: 15px;\n  font-size: 14px;\n}\n\n.forgot-password-link a {\n  color: #ff1493;\n  text-decoration: none;\n  font-weight: bold;\n}\n\n.forgot-password-link a:hover {\n  text-decoration: underline;\n  text-shadow: 0 0 5px rgba(255, 20, 147, 0.8);\n}\n\n.login-page {\n  background-image: url(\"@/assets/Uicbackround.png\"); /* Background image path */\n  background-size: cover;\n  background-position: center;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px; /* Prevents content from touching screen edges */\n}\n\n/* Login Container */\n.login-container {\n  background: rgba(255, 255, 255, 0.9); /* Slightly more opaque for better contrast */\n  padding: 30px;\n  border-radius: 12px;\n  width: 90%;\n  max-width: 400px;\n  text-align: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1); /* Adds subtle shadow */\n}\n\n/* Logo */\n.logo {\n  width: 60%;\n  max-width: 220px;\n  height: auto;\n  margin-bottom: 20px;\n}\n\n/* Title */\n.title {\n  font-family: \"Arial\", sans-serif;\n  color: #d12f7a;\n  font-size: 24px;\n  margin-bottom: 15px;\n  font-weight: bold;\n  text-shadow: 0 0 8px rgba(255, 105, 180, 0.6);\n}\n\n/* Input Fields */\n.input-container {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.password-container {\n  position: relative;\n  width: 120%;\n  max-width: 320px;\n  display: flex;\n  align-items: center;\n}\n\n.password-container input {\n  width: 100%;\n  padding-right: 40px; /* Make space for the button */\n  text-align: left;\n  padding-left: 12px;\n}\n\n.show-password-btn {\n  position: absolute;\n  right: 10px;\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  width: auto;\n  box-shadow: none;\n  color: #888;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 20%;\n}\n\n.show-password-btn:hover {\n  color: #ff1493;\n}\n\n.show-password-btn i {\n  font-size: 14px;\n}\n\ninput {\n  width: 110%;\n  max-width: 320px;\n  padding: 12px;\n  margin-top: 5px;\n  border: 2px solid #ff1493;\n  border-radius: 8px;\n  text-align: left;\n  padding-left: 12px;\n  font-size: 16px;\n  transition: all 0.3s ease;\n}\n\n/* Glowing effect when focused */\ninput:focus {\n  outline: none;\n  border-color: #ff1493; /* Pink border when focused */\n  box-shadow: 0 0 15px rgba(255, 20, 147, 0.8); /* Glowing pink effect */\n}\n\n/* Button with glowing effect */\nbutton {\n  width: 78%;\n  background-color: #d12f7a;\n  color: white;\n  padding: 12px;\n  font-size: 16px;\n  border: none;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: background 0.3s;\n  max-width: 320px;\n}\n\nbutton:hover {\n  background-color: #b82d67;\n}\n\n/* Glowing effect for the \"Login\" button */\nbutton {\n  width: 100%; /* Ensures it aligns with the input fields */\n  max-width: 320px;\n  background: linear-gradient(135deg, #ff1493, #ff69b4);\n  color: white;\n  border: none;\n  padding: 12px;\n  font-size: 16px;\n  border-radius: 15px;\n  cursor: pointer;\n  box-shadow: 0 0 15px rgba(255, 20, 147, 0.8);\n  transition: all 0.3s ease;\n}\n\nbutton:hover {\n  background: linear-gradient(135deg, #d63384, #ff1493);\n  box-shadow: 0 0 20px rgba(255, 20, 147, 1);\n}\n\n/* Error message */\n.error {\n  color: red;\n  font-size: 14px;\n  margin-top: 10px;\n}\n\n/* Create Account Link */\n.create-account-link {\n  margin-top: 20px;\n  font-size: 14px;\n}\n\n.create-account-link a {\n  color: #ff1493;\n  text-decoration: none;\n  font-weight: bold;\n}\n\n.create-account-link a:hover {\n  text-decoration: underline;\n  text-shadow: 0 0 5px rgba(255, 20, 147, 0.8);\n}\n\n/* üì± Mobile Responsive Adjustments */\n@media (max-width: 768px) {\n  .logo {\n    width: 50%;\n    max-width: 180px;\n  }\n\n  .title {\n    font-size: 22px;\n  }\n\n  .login-container {\n    width: 85%;\n    padding: 20px;\n  }\n\n  input {\n    font-size: 14px;\n  }\n\n  button {\n    font-size: 14px;\n  }\n}\n\n/* Extra Small Screens (iPhone SE, very small phones) */\n@media (max-width: 480px) {\n  .logo {\n    width: 45%;\n    max-width: 150px;\n  }\n\n  .title {\n    font-size: 20px;\n  }\n\n  .login-container {\n    width: 90%;\n    padding: 15px;\n  }\n\n  input {\n    font-size: 14px;\n    padding: 10px;\n  }\n\n  button {\n    font-size: 14px;\n    padding: 10px;\n  }\n}\n</style>"],"mappings":";AAuDA,eAAe;EACbA,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,YAAY,EAAE,EAAE;MAChBC,YAAY,EAAE;IAChB,CAAC;EACH,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACR;IACAC,QAAQ,CAACC,IAAI,CAACC,SAAS,CAACC,MAAM,CAAC,WAAW,CAAC;EAC7C,CAAC;EAGDC,OAAO,EAAE;IACPC,cAAcA,CAAA,EAAG;MACf,IAAI,CAACP,YAAW,GAAI,CAAC,IAAI,CAACA,YAAY;IACxC,CAAC;IACD;IACD,MAAMQ,WAAWA,CAAA,EAAG;MACrB,MAAMC,UAAS,GAAI,uCAAuC;MAE1D,IAAI,CAACA,UAAU,CAACC,IAAI,CAAC,IAAI,CAACb,QAAQ,CAAC,EAAE;QACnC,IAAI,CAACE,YAAW,GAAI,mBAAmB;QACvC;MACF;MAEA,IAAI;QACF,MAAMY,QAAO,GAAI,MAAMC,KAAK,CAAC,6BAA6B,EAAE;UAC1DC,MAAM,EAAE,MAAM;UACdC,OAAO,EAAE;YAAE,cAAc,EAAE;UAAmB,CAAC;UAC/CX,IAAI,EAAEY,IAAI,CAACC,SAAS,CAAC;YAAEC,KAAK,EAAE,IAAI,CAACpB,QAAQ;YAAEC,QAAQ,EAAE,IAAI,CAACA;UAAS,CAAC;QACxE,CAAC,CAAC;QACF,MAAMF,IAAG,GAAI,MAAMe,QAAQ,CAACO,IAAI,CAAC,CAAC;QAClCC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAExB,IAAI,CAAC,EAAG;;QAEvC,IAAIe,QAAQ,CAACU,EAAE,EAAE;UACfC,YAAY,CAACC,OAAO,CAAC,UAAU,EAAE,MAAM,CAAC;UACxCD,YAAY,CAACC,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC1B,QAAQ,CAAC;;UAEhD;UACA,IAAID,IAAI,CAACC,QAAQ,EAAE;YACjByB,YAAY,CAACC,OAAO,CAAC,UAAU,EAAE3B,IAAI,CAACC,QAAQ,CAAC,EAAG;UACpD;UAEA,IAAI,CAAC2B,OAAO,CAACC,IAAI,CAAC;YAAE9B,IAAI,EAAE;UAAY,CAAC,CAAC;QAC1C,OAAO;UACL,IAAI,CAACI,YAAW,GAAIH,IAAI,CAAC8B,MAAK,IAAK,sCAAsC;QAC3E;MACF,EAAE,OAAOC,KAAK,EAAE;QACdR,OAAO,CAACQ,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;QAC3C,IAAI,CAAC5B,YAAW,GAAI,iDAAiD;MACnE;IACF,CAAC;IAED;IACA6B,mBAAmBA,CAAA,EAAG;MACpB,IAAI,CAACJ,OAAO,CAACC,IAAI,CAAC;QAAE9B,IAAI,EAAE;MAAY,CAAC,CAAC,EAAE;IAC5C;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}