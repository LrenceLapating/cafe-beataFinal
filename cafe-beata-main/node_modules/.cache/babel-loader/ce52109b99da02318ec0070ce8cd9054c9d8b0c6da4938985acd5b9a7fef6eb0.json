{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, vModelDynamic as _vModelDynamic, normalizeClass as _normalizeClass, vShow as _vShow, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, withModifiers as _withModifiers, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nimport _imports_0 from '@/assets/uic-logo.png';\nconst _hoisted_1 = {\n  class: \"login-page\"\n};\nconst _hoisted_2 = {\n  class: \"login-container\"\n};\nconst _hoisted_3 = {\n  class: \"input-container\"\n};\nconst _hoisted_4 = {\n  class: \"input-container\"\n};\nconst _hoisted_5 = {\n  class: \"password-container\"\n};\nconst _hoisted_6 = [\"type\"];\nconst _hoisted_7 = {\n  key: 0,\n  class: \"error\"\n};\nconst _hoisted_8 = {\n  class: \"create-account-link\"\n};\nconst _hoisted_9 = {\n  class: \"forgot-password-link\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createCommentVNode(\" Logo as Admin Button \"), _createElementVNode(\"div\", {\n    class: \"logo-container\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.redirectToAdminPage && $options.redirectToAdminPage(...args)),\n    style: {\n      \"cursor\": \"pointer\"\n    }\n  }, _cache[5] || (_cache[5] = [_createElementVNode(\"img\", {\n    src: _imports_0,\n    alt: \"University Logo\",\n    class: \"logo\"\n  }, null, -1 /* HOISTED */)])), _cache[12] || (_cache[12] = _createElementVNode(\"h1\", {\n    class: \"title\"\n  }, \"UIC Cafe Beàta\", -1 /* HOISTED */)), !_ctx.isAdminLogin ? (_openBlock(), _createElementBlock(\"form\", {\n    key: 0,\n    onSubmit: _cache[4] || (_cache[4] = _withModifiers((...args) => $options.handleLogin && $options.handleLogin(...args), [\"prevent\"])),\n    class: \"login-form\"\n  }, [_createElementVNode(\"div\", _hoisted_3, [_cache[6] || (_cache[6] = _createElementVNode(\"label\", {\n    for: \"username\"\n  }, null, -1 /* HOISTED */)), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.username = $event),\n    id: \"username\",\n    placeholder: \"UIC Email\",\n    required: \"\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.username]])]), _createElementVNode(\"div\", _hoisted_4, [_cache[7] || (_cache[7] = _createElementVNode(\"label\", {\n    for: \"password\"\n  }, null, -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    type: $data.showPassword ? 'text' : 'password',\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.password = $event),\n    id: \"password\",\n    placeholder: \"Password\",\n    required: \"\"\n  }, null, 8 /* PROPS */, _hoisted_6), [[_vModelDynamic, $data.password]]), _withDirectives(_createElementVNode(\"button\", {\n    type: \"button\",\n    class: \"show-password-btn\",\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.togglePassword && $options.togglePassword(...args))\n  }, [_createElementVNode(\"i\", {\n    class: _normalizeClass($data.showPassword ? 'fas fa-eye-slash' : 'fas fa-eye')\n  }, null, 2 /* CLASS */)], 512 /* NEED_PATCH */), [[_vShow, $data.password.length > 0]])])]), _cache[8] || (_cache[8] = _createElementVNode(\"button\", {\n    type: \"submit\",\n    class: \"login-button\"\n  }, \"Login\", -1 /* HOISTED */)), $data.errorMessage ? (_openBlock(), _createElementBlock(\"p\", _hoisted_7, _toDisplayString($data.errorMessage), 1 /* TEXT */)) : _createCommentVNode(\"v-if\", true)], 32 /* NEED_HYDRATION */)) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"p\", _hoisted_8, [_cache[10] || (_cache[10] = _createTextVNode(\" Don't have an account? \")), _createVNode(_component_router_link, {\n    to: \"/create-account\"\n  }, {\n    default: _withCtx(() => _cache[9] || (_cache[9] = [_createTextVNode(\"Create one\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"p\", _hoisted_9, [_createVNode(_component_router_link, {\n    to: \"/forgot-password\"\n  }, {\n    default: _withCtx(() => _cache[11] || (_cache[11] = [_createTextVNode(\"Forgot Password?\")])),\n    _: 1 /* STABLE */\n  })])])]);\n}","map":{"version":3,"names":["_imports_0","class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createCommentVNode","onClick","_cache","args","$options","redirectToAdminPage","style","src","alt","_ctx","isAdminLogin","onSubmit","_withModifiers","handleLogin","_hoisted_3","for","type","$event","$data","username","id","placeholder","required","_hoisted_4","_hoisted_5","showPassword","password","_hoisted_6","togglePassword","_normalizeClass","length","errorMessage","_hoisted_7","_toDisplayString","_hoisted_8","_createTextVNode","_createVNode","_component_router_link","to","default","_withCtx","_","_hoisted_9"],"sources":["D:\\cafe-beata-Inventory-Preorder-main\\cafe-beata-main\\src\\components\\LoginPage.vue"],"sourcesContent":["<template>\n  <div class=\"login-page\">\n    <div class=\"login-container\">\n      <!-- Logo as Admin Button -->\n      <div class=\"logo-container\" @click=\"redirectToAdminPage\" style=\"cursor: pointer;\">\n        <img src=\"@/assets/uic-logo.png\" alt=\"University Logo\" class=\"logo\" />\n      </div>\n\n      <h1 class=\"title\">UIC Cafe Beàta</h1>\n      <form v-if=\"!isAdminLogin\" @submit.prevent=\"handleLogin\" class=\"login-form\">\n        <div class=\"input-container\">\n          <label for=\"username\"></label>\n          <input \n            type=\"text\" \n            v-model=\"username\" \n            id=\"username\" \n            placeholder=\"UIC Email\" \n            required \n          />\n        </div>\n        <div class=\"input-container\">\n          <label for=\"password\"></label>\n          <div class=\"password-container\">\n            <input \n              :type=\"showPassword ? 'text' : 'password'\" \n              v-model=\"password\" \n              id=\"password\" \n              placeholder=\"Password\" \n              required \n            />\n            <button \n              type=\"button\" \n              class=\"show-password-btn\" \n              @click=\"togglePassword\"\n              v-show=\"password.length > 0\"\n            >\n              <i :class=\"showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'\"></i>\n            </button>\n          </div>\n        </div>\n        <button type=\"submit\" class=\"login-button\">Login</button>\n        <p v-if=\"errorMessage\" class=\"error\">{{ errorMessage }}</p>\n      </form>\n\n      <p class=\"create-account-link\">\n        Don't have an account? <router-link to=\"/create-account\">Create one</router-link>\n      </p>\n      <p class=\"forgot-password-link\">\n        <router-link to=\"/forgot-password\">Forgot Password?</router-link>\n      </p>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      username: \"\",\n      password: \"\",\n      errorMessage: \"\",\n      showPassword: false,\n    };\n  },\n\n  created() {\n    // Ensure dark mode is not applied on this page\n    document.body.classList.remove(\"dark-mode\");\n  },\n\n\n  methods: {\n    togglePassword() {\n      this.showPassword = !this.showPassword;\n    },\n    // Handle regular user login\n   async handleLogin() {\n  const emailRegex = /^[a-zA-Z0-9]+(_\\d{12})?@uic\\.edu\\.ph$/;\n\n  if (!emailRegex.test(this.username)) {\n    this.errorMessage = \"Invalid UIC Email\";\n    return;\n  }\n\n  try {\n    const response = await fetch(\"http://127.0.0.1:8000/login\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ email: this.username, password: this.password }),\n    });\n    const data = await response.json();\n    console.log('Login response:', data);  // Log the response to check if username is included\n\n    if (response.ok) {\n      localStorage.setItem(\"loggedIn\", \"true\");\n      localStorage.setItem(\"userEmail\", this.username);\n\n      // Ensure that the correct username is saved\n      if (data.username) {\n        localStorage.setItem(\"userName\", data.username);  // Save username here\n      }\n\n      this.$router.push({ name: \"Dashboard\" });\n    } else {\n      this.errorMessage = data.detail || \"An error occurred. Please try again.\";\n    }\n  } catch (error) {\n    console.error(\"Error during login:\", error);\n    this.errorMessage = \"An unexpected error occurred. Please try again.\";\n      }\n    },\n\n    // Redirect to AdminPage\n    redirectToAdminPage() {\n      this.$router.push({ name: \"AdminPage\" }); // Redirect to AdminPage.vue\n    },\n  },\n};\n</script>\n\n<style scoped>\n/* Logo as Admin Button Style */\n.logo-container {\n  cursor: pointer; /* Ensure the logo is clickable */\n  margin-top: 20px;\n}\n\n.logo {\n  width: 60%;\n  max-width: 220px;\n  height: auto;\n  margin-bottom: 20px;\n}\n\n.terms-text {\n  margin-top: 20px;\n  font-size: 14px;\n  text-align: center;\n}\n\n.terms-link {\n  color:#ff1493;\n  text-decoration: none;\n  font-weight: bold;\n}\n\n.terms-link:hover {\n  text-decoration: underline;\n}\n\n.forgot-password-link {\n  margin-top: 15px;\n  font-size: 14px;\n}\n\n.forgot-password-link a {\n  color: #ff1493;\n  text-decoration: none;\n  font-weight: bold;\n}\n\n.forgot-password-link a:hover {\n  text-decoration: underline;\n  text-shadow: 0 0 5px rgba(255, 20, 147, 0.8);\n}\n\n.login-page {\n  background-image: url(\"@/assets/Uicbackround.png\"); /* Background image path */\n  background-size: cover;\n  background-position: center;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 20px; /* Prevents content from touching screen edges */\n}\n\n/* Login Container */\n.login-container {\n  background: rgba(255, 255, 255, 0.9); /* Slightly more opaque for better contrast */\n  padding: 30px;\n  border-radius: 12px;\n  width: 90%;\n  max-width: 400px;\n  text-align: center;\n  box-sizing: border-box;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1); /* Adds subtle shadow */\n}\n\n/* Logo */\n.logo {\n  width: 60%;\n  max-width: 220px;\n  height: auto;\n  margin-bottom: 20px;\n}\n\n/* Title */\n.title {\n  font-family: \"Arial\", sans-serif;\n  color: #d12f7a;\n  font-size: 24px;\n  margin-bottom: 15px;\n  font-weight: bold;\n  text-shadow: 0 0 8px rgba(255, 105, 180, 0.6);\n}\n\n/* Input Fields */\n.input-container {\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.password-container {\n  position: relative;\n  width: 120%;\n  max-width: 320px;\n  display: flex;\n  align-items: center;\n}\n\n.password-container input {\n  width: 100%;\n  padding-right: 40px; /* Make space for the button */\n  text-align: left;\n  padding-left: 12px;\n}\n\n.show-password-btn {\n  position: absolute;\n  right: 10px;\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 0;\n  width: auto;\n  box-shadow: none;\n  color: #888;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 20%;\n}\n\n.show-password-btn:hover {\n  color: #ff1493;\n}\n\n.show-password-btn i {\n  font-size: 14px;\n}\n\ninput {\n  width: 110%;\n  max-width: 320px;\n  padding: 12px;\n  margin-top: 5px;\n  border: 2px solid #ff1493;\n  border-radius: 8px;\n  text-align: left;\n  padding-left: 12px;\n  font-size: 16px;\n  transition: all 0.3s ease;\n}\n\n/* Glowing effect when focused */\ninput:focus {\n  outline: none;\n  border-color: #ff1493; /* Pink border when focused */\n  box-shadow: 0 0 15px rgba(255, 20, 147, 0.8); /* Glowing pink effect */\n}\n\n/* Button with glowing effect */\nbutton {\n  width: 78%;\n  background-color: #d12f7a;\n  color: white;\n  padding: 12px;\n  font-size: 16px;\n  border: none;\n  border-radius: 10px;\n  cursor: pointer;\n  transition: background 0.3s;\n  max-width: 320px;\n}\n\nbutton:hover {\n  background-color: #b82d67;\n}\n\n/* Glowing effect for the \"Login\" button */\nbutton {\n  width: 100%; /* Ensures it aligns with the input fields */\n  max-width: 320px;\n  background: linear-gradient(135deg, #ff1493, #ff69b4);\n  color: white;\n  border: none;\n  padding: 12px;\n  font-size: 16px;\n  border-radius: 15px;\n  cursor: pointer;\n  box-shadow: 0 0 15px rgba(255, 20, 147, 0.8);\n  transition: all 0.3s ease;\n}\n\nbutton:hover {\n  background: linear-gradient(135deg, #d63384, #ff1493);\n  box-shadow: 0 0 20px rgba(255, 20, 147, 1);\n}\n\n/* Error message */\n.error {\n  color: red;\n  font-size: 14px;\n  margin-top: 10px;\n}\n\n/* Create Account Link */\n.create-account-link {\n  margin-top: 20px;\n  font-size: 14px;\n}\n\n.create-account-link a {\n  color: #ff1493;\n  text-decoration: none;\n  font-weight: bold;\n}\n\n.create-account-link a:hover {\n  text-decoration: underline;\n  text-shadow: 0 0 5px rgba(255, 20, 147, 0.8);\n}\n\n/* 📱 Mobile Responsive Adjustments */\n@media (max-width: 768px) {\n  .logo {\n    width: 50%;\n    max-width: 180px;\n  }\n\n  .title {\n    font-size: 22px;\n  }\n\n  .login-container {\n    width: 85%;\n    padding: 20px;\n  }\n\n  input {\n    font-size: 14px;\n  }\n\n  button {\n    font-size: 14px;\n  }\n}\n\n/* Extra Small Screens (iPhone SE, very small phones) */\n@media (max-width: 480px) {\n  .logo {\n    width: 45%;\n    max-width: 150px;\n  }\n\n  .title {\n    font-size: 20px;\n  }\n\n  .login-container {\n    width: 90%;\n    padding: 15px;\n  }\n\n  input {\n    font-size: 14px;\n    padding: 10px;\n  }\n\n  button {\n    font-size: 14px;\n    padding: 10px;\n  }\n}\n</style>"],"mappings":";OAKaA,UAA2B;;EAJjCC,KAAK,EAAC;AAAY;;EAChBA,KAAK,EAAC;AAAiB;;EAQnBA,KAAK,EAAC;AAAiB;;EAUvBA,KAAK,EAAC;AAAiB;;EAErBA,KAAK,EAAC;AAAoB;mBAtBzC;;EAAAC,GAAA;EAyC+BD,KAAK,EAAC;;;EAG5BA,KAAK,EAAC;AAAqB;;EAG3BA,KAAK,EAAC;AAAsB;;;uBA9CnCE,mBAAA,CAkDM,OAlDNC,UAkDM,GAjDJC,mBAAA,CAgDM,OAhDNC,UAgDM,GA/CJC,mBAAA,0BAA6B,EAC7BF,mBAAA,CAEM;IAFDJ,KAAK,EAAC,gBAAgB;IAAEO,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,mBAAA,IAAAD,QAAA,CAAAC,mBAAA,IAAAF,IAAA,CAAmB;IAAEG,KAAwB,EAAxB;MAAA;IAAA;gCACvDR,mBAAA,CAAsE;IAAjES,GAA2B,EAA3Bd,UAA2B;IAACe,GAAG,EAAC,iBAAiB;IAACd,KAAK,EAAC;6DAG/DI,mBAAA,CAAqC;IAAjCJ,KAAK,EAAC;EAAO,GAAC,gBAAc,sB,CACnBe,IAAA,CAAAC,YAAY,I,cAAzBd,mBAAA,CAiCO;IA1CbD,GAAA;IASkCgB,QAAM,EAAAT,MAAA,QAAAA,MAAA,MATxCU,cAAA,KAAAT,IAAA,KASkDC,QAAA,CAAAS,WAAA,IAAAT,QAAA,CAAAS,WAAA,IAAAV,IAAA,CAAW;IAAET,KAAK,EAAC;MAC7DI,mBAAA,CASM,OATNgB,UASM,G,0BARJhB,mBAAA,CAA8B;IAAvBiB,GAAG,EAAC;EAAU,6B,gBACrBjB,mBAAA,CAME;IALAkB,IAAI,EAAC,MAAM;IAbvB,uBAAAd,MAAA,QAAAA,MAAA,MAAAe,MAAA,IAcqBC,KAAA,CAAAC,QAAQ,GAAAF,MAAA;IACjBG,EAAE,EAAC,UAAU;IACbC,WAAW,EAAC,WAAW;IACvBC,QAAQ,EAAR;iDAHSJ,KAAA,CAAAC,QAAQ,E,KAMrBrB,mBAAA,CAmBM,OAnBNyB,UAmBM,G,0BAlBJzB,mBAAA,CAA8B;IAAvBiB,GAAG,EAAC;EAAU,6BACrBjB,mBAAA,CAgBM,OAhBN0B,UAgBM,G,gBAfJ1B,mBAAA,CAME;IALCkB,IAAI,EAAEE,KAAA,CAAAO,YAAY;IAxBjC,uBAAAvB,MAAA,QAAAA,MAAA,MAAAe,MAAA,IAyBuBC,KAAA,CAAAQ,QAAQ,GAAAT,MAAA;IACjBG,EAAE,EAAC,UAAU;IACbC,WAAW,EAAC,UAAU;IACtBC,QAAQ,EAAR;0BA5BdK,UAAA,I,iBAyBuBT,KAAA,CAAAQ,QAAQ,E,mBAKnB5B,mBAAA,CAOS;IANPkB,IAAI,EAAC,QAAQ;IACbtB,KAAK,EAAC,mBAAmB;IACxBO,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAwB,cAAA,IAAAxB,QAAA,CAAAwB,cAAA,IAAAzB,IAAA,CAAc;MAGtBL,mBAAA,CAAiE;IAA7DJ,KAAK,EApCvBmC,eAAA,CAoCyBX,KAAA,CAAAO,YAAY;6DAFfP,KAAA,CAAAQ,QAAQ,CAACI,MAAM,M,iCAM7BhC,mBAAA,CAAyD;IAAjDkB,IAAI,EAAC,QAAQ;IAACtB,KAAK,EAAC;KAAe,OAAK,sBACvCwB,KAAA,CAAAa,YAAY,I,cAArBnC,mBAAA,CAA2D,KAA3DoC,UAA2D,EAAAC,gBAAA,CAAnBf,KAAA,CAAAa,YAAY,oBAzC5D/B,mBAAA,e,8BAAAA,mBAAA,gBA4CMF,mBAAA,CAEI,KAFJoC,UAEI,G,4BA9CVC,gBAAA,CA4CqC,0BACN,IAAAC,YAAA,CAA0DC,sBAAA;IAA7CC,EAAE,EAAC;EAAiB;IA7ChEC,OAAA,EAAAC,QAAA,CA6CiE,MAAUtC,MAAA,QAAAA,MAAA,OA7C3EiC,gBAAA,CA6CiE,YAAU,E;IA7C3EM,CAAA;QA+CM3C,mBAAA,CAEI,KAFJ4C,UAEI,GADFN,YAAA,CAAiEC,sBAAA;IAApDC,EAAE,EAAC;EAAkB;IAhD1CC,OAAA,EAAAC,QAAA,CAgD2C,MAAgBtC,MAAA,SAAAA,MAAA,QAhD3DiC,gBAAA,CAgD2C,kBAAgB,E;IAhD3DM,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}